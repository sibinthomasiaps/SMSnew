
@model SMSnew.Models.LibraryBookIssue
@{
    ViewBag.Title = "Library Book";
    Layout = "~/Views/Shared/_sampleLayout.cshtml";

}
@section Styles
{

    <link href="@Url.Content("~/Content/template/")assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css" />

    <link href="@Url.Content("~/Content/template/")css/style.css" rel="stylesheet">

    <link href="@Url.Content("~/Content/template/")css/colors/blue.css" id="theme" rel="stylesheet">


}





@using (Html.BeginForm("return_update", "Library", FormMethod.Post))
{
     @Html.AntiForgeryToken()
         
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.LibraryBookIssueId, new { name = "LibraryBookIssueId", id = "LibraryBookIssueId" })


    <div class="container-fluid">

        <div class="row">
            <div class="col-lg-12">
                <div class="card card-outline-info">
                    <div class="card-header">
                        <h4 class="m-b-0 text-white">Library Book</h4>
                    </div>
                    <div class="card-body">
                        <form action="#">
                            <div class="form-body">
                                <br />
                                <div class="row p-t-20">
                                    <div class="col-md-10">
                                        <div class="form-group">
                                         
                                            <label class="control-label">Book ISBN Number</label>
                                            @Html.EditorFor(model => model.LibraryISBNNo, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                            @Html.ValidationMessageFor(model => model.LibraryISBNNo, "", new { @class = "text-danger" })
                                               </div>
                                    </div>
                               
                                    <div class="col-xlg-2">
                                        <div class="form-group">
                                            <div class="col-xlg-3">
                                                <div class="form-group">

                                                </div>
                                            </div>
                                            <button type="button" class="btn btn-success waves-effect waves-light m-r-10" name="Search" id="Search" value="Search">Search</button>
                                        </div>
                                    </div>

                                </div>




                                <div id="Create" style="display:none;border:medium;border-color:green">
                                    <div class="row p-t-20">
                                        <div class="col-3">
                                            <label class="control-label">Book publisher</label>:
                                            <label class="control-label" id="bktitle"></label>
                                        </div>
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label"> Author</label>:
                                                <label class="control-label" id="bkauthor"></label>

                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label">ISBN</label>:
                                                <label class="control-label" id="bkisbn"></label>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row p-t-20">

                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label"> Status</label>
                                                <label class="control-label" id="bkedtn"></label>

                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label">Condition</label>:
                                                <label class="control-label" id="bkcndtn"></label>
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label"> Cost</label>:
                                                <label class="control-label" id="bkcst"></label>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="row p-t-20">
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label">User Type</label>:
                                                <label class="control-label" id="shelf"></label>
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label"> Language</label>:
                                                <label class="control-label" id="LibraryLanguage"></label>
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <div class="form-group">
                                                <label class="control-label"> Reg Id</label>:
                                                <label class="control-label" id="regid"></label>
                                            </div>
                                        </div>

                                    </div>

                                </div>



                             
                                <div class="row p-t-20">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label">Return Date</label>
                                            @Html.EditorFor(model => model.LibraryBookReturnDate, new { htmlAttributes = new { @class = "form-control",@readonly="readonly" } })
                                            @Html.ValidationMessageFor(model => model.LibraryBookReturnDate, "", new { @class = "text-danger" })
                                        </div>
                                    </div>



                                </div>






                                <div class="row p-t-20">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label">fine type</label>
                                            @Html.DropDownList("FineName", ViewBag.fineamt as SelectList, "select fine type", new { @class = "form-control", id = "FineName" })



                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label">fine amount</label>
                                          
                                            @Html.EditorFor(model => model.FineAmount, new { htmlAttributes = new { @class = "form-control",@readonly="readonly" } })
                                            @Html.ValidationMessageFor(model => model.FineAmount, "", new { @class = "text-danger", @id = "FineAmount" })

                                        </div>
                                    </div>

                                </div>



                            </div>

                            <br />
                            <div class="form-actions">
                          
                                <button class="btn btn-info waves-effect waves-light" type="submit" id="save" name="save" style="background-color: #0c4e90;border: 1px solid #0c4e90;color:#ffffff;"><span class="btn-label"><i class="fa fa-check"></i></span>save</button>
                                <button class="btn btn-info waves-effect waves-light" type="button" id="cancel" name="cancel" onclick="document.location.reload(true)" style="background-color:#2f3d4a;border: 1px solid #2f3d4a;color:#ffffff;"><span class="btn-label"><i class="fa fa-close"></i></span>Cancel</button>
                                <button class="btn btn-info waves-effect waves-light" type="button" style="background-color:#dc3545;border: 1px solid #dc3545;color:#ffffff;"><span class="btn-label"><i class="fa fa-list"></i></span><a href="DetailsClassRoomList" style="color:#ffffff">Back to List</a></button>

                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div>

        </div>


        <div class="right-sidebar">
            <div class="slimscrollright">
                <div class="rpanel-title"> Service Panel <span><i class="ti-close right-side-toggle"></i></span> </div>
                <div class="r-panel-body">
                    <ul id="themecolors" class="m-t-20">
                        <li><b>With Light sidebar</b></li>
                        <li><a href="javascript:void(0)" data-theme="default" class="default-theme">1</a></li>
                        <li><a href="javascript:void(0)" data-theme="green" class="green-theme">2</a></li>
                        <li><a href="javascript:void(0)" data-theme="red" class="red-theme">3</a></li>
                        <li><a href="javascript:void(0)" data-theme="blue" class="blue-theme working">4</a></li>
                        <li><a href="javascript:void(0)" data-theme="purple" class="purple-theme">5</a></li>
                        <li><a href="javascript:void(0)" data-theme="megna" class="megna-theme">6</a></li>
                        <li class="d-block m-t-30"><b>With Dark sidebar</b></li>
                        <li><a href="javascript:void(0)" data-theme="default-dark" class="default-dark-theme">7</a></li>
                        <li><a href="javascript:void(0)" data-theme="green-dark" class="green-dark-theme">8</a></li>
                        <li><a href="javascript:void(0)" data-theme="red-dark" class="red-dark-theme">9</a></li>
                        <li><a href="javascript:void(0)" data-theme="blue-dark" class="blue-dark-theme">10</a></li>
                        <li><a href="javascript:void(0)" data-theme="purple-dark" class="purple-dark-theme">11</a></li>
                        <li><a href="javascript:void(0)" data-theme="megna-dark" class="megna-dark-theme ">12</a></li>
                    </ul>
                    <ul class="m-t-20 chatonline">
                        <li><b>Chat option</b></li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/1.jpg" alt="user-img" class="img-circle"> <span>Varun Dhavan <small class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/2.jpg" alt="user-img" class="img-circle"> <span>Genelia Deshmukh <small class="text-warning">Away</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/3.jpg" alt="user-img" class="img-circle"> <span>Ritesh Deshmukh <small class="text-danger">Busy</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/4.jpg" alt="user-img" class="img-circle"> <span>Arijit Sinh <small class="text-muted">Offline</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/5.jpg" alt="user-img" class="img-circle"> <span>Govinda Star <small class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/6.jpg" alt="user-img" class="img-circle"> <span>John Abraham<small class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/7.jpg" alt="user-img" class="img-circle"> <span>Hritik Roshan<small class="text-success">online</small></span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0)"><img src="assets/images/users/8.jpg" alt="user-img" class="img-circle"> <span>Pwandeep rajan <small class="text-success">online</small></span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

}


@section Scripts
{





<script type="text/javascript">
    $(document).ready(function () {
        $("#Search").click(function () {
            if ($("#LibraryISBNNo").val() == "") {
                alert("Please select book ");
                return false;
            }

            $("#Create").toggle();

            var d = $("#LibraryISBNNo").val();
      
            $.get("/Library/GetIssueDetail", { Isbn_no: $("#LibraryISBNNo").val() }, function (data) {

                document.getElementById('bktitle').innerHTML = data.LibraryBookPublisher;
                document.getElementById('bkauthor').innerHTML = data.LibraryBookAuthor;
                document.getElementById('bkisbn').innerHTML = data.LibraryISBN;
                document.getElementById('bkcndtn').innerHTML = data.LibraryBookCondition;
                document.getElementById('bkcst').innerHTML = data.LibraryBookCost;
                document.getElementById('bkedtn').innerHTML = data.LibraryBookStatus;
                document.getElementById('shelf').innerHTML = data.LibraryBookIssueUserType;
                document.getElementById('LibraryLanguage').innerHTML = data.LibraryBookLanguage;
                document.getElementById('regid').innerHTML = data.LibraryBookIssueUserName;
                //document.getElementById('issuedate').innerHTML = data.LibraryBookIssueDate;
            });

        });
    });
</script>




    

    <script type="text/javascript">
    $(function () {
        $("#FineName").change(function () {



            alert($("#FineName").val());


            $.get("/Library/GetUpdateFine", { Isbn_no: $("#FineName").val(), issue_id: $("#LibraryBookIssueId").val() }, function (data) {
            
                alert(data);
                document.getElementById('FineAmount').value = data;
                  

               
            });



        });
    });
    </script>



   

   






    <script src="@Url.Content("~/Content/template/")assets/plugins/moment/moment.js"></script>
    <script src="@Url.Content("~/Content/template/")assets/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>


    <script src="@Url.Content("~/Content/template/")assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
    Date range Plugin JavaScript
    <script src="@Url.Content("~/Content/template/")assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>
    <script src="@Url.Content("~/Content/template/")assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
    <script>

    jQuery('.mydatepicker, #datepicker').datepicker();
    jQuery('#datepicker-autoclose').datepicker({
        autoclose: true,
        todayHighlight: true,
        format: 'yyyy-mm-dd'
    });

    </script>

    <script src="@Url.Content("~/Content/template/")assets/plugins/styleswitcher/jQuery.style.switcher.js"></script>







}





















