@model SMSnew.Models.Leave

@{
    ViewBag.Title = "EditStudentLeave";
    Layout = "~/Views/Shared/_adminLayout.cshtml";
}

<script src="//code.jquery.com/jquery-1.10.2.js" type="text/javascript"></script>
<script src="//code.jquery.com/ui/1.11.2/jquery-ui.js" type="text/javascript"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<style>
    Make Wide {
        width: 200px;
    }
</style>



@*<h2>CreateHostel</h2>*@
<!-- Page wrapper  -->
<!-- ============================================================== -->
<div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <h3 class="text-themecolor">Dashboard</h3>
        </div>
        <div class="col-md-7 align-self-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                <li class="breadcrumb-item active">Dashboard</li>
            </ol>
        </div>
        <div>
            <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10"><i class="ti-settings text-white"></i></button>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <div>
        @using (Html.BeginForm())
        {


     <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <!-- Row -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card card-outline-info">
                            <div class="card-header">
                                <h4 class="m-b-0 text-white"> Edit Student Leave</h4>
                            </div>

                            <div class="card-body">
                                <form action="#">
                                    <div class="form-body">
                                        <h3 class="card-title"> Leave Info</h3>
                                        <hr><hr>
                                        <div class="row p-t-20">
                                            <div class="col-md-6">
                                                @*<div class="form-group">
                                                         <label class="control-label">Leave Category</label>
                                                         <input type="text" id="LeaveCategory" name="LeaveCategory" class="form-control" placeholder="enter hostel name">
                                                    </div*@
                                                <div class="form-group has-success">
                                                    <label class="control-label">Leave Category</label>
                                                    @Html.EditorFor(m => m.LeaveCategory, new { htmlAttributes = new { @class="form-control",@readonly="readonly"} })
                                                    @*@Html.DropDownListFor(model => model.LeaveCategory, new List<SelectListItem>
                                                    {

                                                     new SelectListItem{Text="Annual Leave", Value="Annual Leave"},
                                                          new SelectListItem{Text="Duty Leave", Value="Duty Leave"},
                                                            new SelectListItem{Text="Personal Leave", Value="Personal Leave"},
                                                              new SelectListItem{Text="Sick Leave", Value="Sick Leave"}
                                                        }, new { @class = "form-control custom-select" })*@


                                                </div>


                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">


                                                <div class="form-group">
                                                    <label class="control-label">Leave Reason</label>
                                                    @*<input type="text" id="LeaveReason" name="LeaveReason" class="form-control" placeholder="Leave Reason">*@
                                                    @Html.EditorFor(m => m.LeaveReason, new { htmlAttributes = new { @class = "form-control", @readonly="readonly"} })

                                                </div>
                                            </div>
                                            <!--/span-->
                                        </div>




                                        <!--/row-->

                                        <div class="row">
                                            <div class="col-md-6">


                                                <div class="form-group">
                                                    <label class="control-label">Leave Person</label>
                                                    @*<input type="text" id="LeavePerson" name="LeavePerson" class="form-control" placeholder="Leave Person">*@
                                                    @Html.EditorFor(m => m.LeavePerson, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })

                                                    @*<input type="text" id="LeavePerson" name="LeavePerson" class="form-control" readonly="readonly" />*@
                                                </div>


                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">

                                                @*<div class="form-group has-success">
                                                        <label class="control-label">Academic End Month</label>
                                                        <select class="form-control custom-select" name="AcademicEndMonth">
                                                            <option value="">select month</option>
                                                            <option value="January">January</option>
                                                            <option value="February">February</option>
                                                            <option value="March">March</option>
                                                            <option value="April">April</option>
                                                            <option value="May">May</option>
                                                            <option value="June">June</option>
                                                            <option value="July">July</option>
                                                            <option value="August">August</option>
                                                            <option value="September">September</option>
                                                            <option value="October">October</option>
                                                            <option value="November">November</option>
                                                            <option value="December">December</option>
                                                        </select>

                                                    </div>*@


                                                <div class="form-group">
                                                    <label class="control-label">Leave Start Date</label>

                                                    @*<input type="text" id="LeaveStartDate" name="LeaveStartDate" class="form-control" readonly="readonly" placeholder="Select Date" />*@
                                                    @Html.EditorFor(m => m.LeaveStartDate, new { htmlAttributes = new { @class = "form-control",@readonly="readonly"} })

                                                </div>
                                                <!--/span-->
                                            </div>
                                            <!--/row-->
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">

                                                <div class="form-group">
                                                    <label class="control-label">Leave End Date</label>
                                                    @*<input type="text" id="LeaveEndDate" name="LeaveEndDate" class="form-control" placeholder="Select Date" onchange="DateCheck()">*@
                                                    @*@Html.EditorFor(m => m.LeaveEndDate, new { htmlAttributes = new { @class = "form-control", onchange = "DateCheck()" } })*@
                                                    @Html.EditorFor(m => m.LeaveEndDate, new { htmlAttributes = new { @class="form-control",@readonly="readonly"} })
                                                </div>


                                            </div>


                                            <div class="col-md-6">

                                                <div class="form-group">
                                                    <label class="control-label">Leave Days</label>

                                                    @*<input type="text" id="totdays" name="LeaveDays" class="form-control" readonly="readonly" />*@
                                                    @Html.EditorFor(m => m.LeaveDays, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                                                </div>


                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-6">

                                                <div class="form-group">
                                                    <label class="control-label">Leave Status</label>
                                                    @*<input type="text" id="LeaveStatus" name="LeaveStatus" value="0" class="form-control" readonly="readonly">*@
                                                    @*<input type="text" id="FeeDate" name="FeeDate" class="form-control" readonly="readonly" placeholder="Select Fee Date" />*@
                                                    @*@Html.LabelFor(m=>m.LeaveStatus)*@
                                                    @*@Html.EditorFor(m => m.LeaveStatus, new { htmlAttributes = new { @class} })*@
                                                    @Html.DropDownListFor(model=>model.LeaveStatus,new List<SelectListItem>
                                                    {
                                                        new SelectListItem{Text="pending",Value="pending"},
                                                        new SelectListItem{Text="approved",Value="approved"},
                                                        new SelectListItem{Text="rejected",Value="rejected"},
                                                    }, new { @class="form-control custom-select",id="LeaveStatus"})
                                                    
                                                    
                                                    
                                                    
                                                </div>


                                            </div>
                                            <div class="col-md-6"> 
                                                <div class="form-group">
                                                    @*<label class="control-label">Leave Approval Person Id</label>*@
                                             
                                              
                                                @Html.Hidden("LeaveApprovalPersonId", ViewBag.LeaveApprovalPersonId as SelectList, new { @class = "form-control", @readonly = "readonly" })
                                                  </div>
                                            </div>
                                            @*<div class="col-md-6">
                                                <div class="form-group">
                                                    <input type="button" class="control-label" value="send email" onclick="@("window.location.href='" + @Url.Action("sendmailbyteacher", "Leave") + "'");" />

                                                </div>
                                            </div>*@

                                            @*<div class="col-md-6">

                                                    <div class="form-group">
                                                        <label class="control-label">Send Email</label>
                                                        <input type="button" value="send email" class="form-control"  onclick="@("window.location.href='" + @Url.Action("sendmailbyteacher", "Leave") + "'");">

                                                    </div>


                                                </div>*@
                                        </div>
                                        @*<div class="row">
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <label class="control-label">Other Information</label>
                                                        <textarea id="OtherInfo" rows="6" class="form-control" placeholder="Type Here" name="OtherInfo"></textarea>


                                                    </div>

                                                </div>
                                            </div>*@
                                    </div>
                                    <div class="form-actions">
                                        <button type="submit" name="Save" id="Save" value="Save" class="btn btn-success" > <i class="fa fa-check"></i> Save</button>
                                        <button type="button" name="Cancel" value="Cancel"  onclick="location.href='@Url.Action("ListAllLeaves","Leave")'" class="btn btn-inverse">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <div class="right-sidebar">
                    <div class="slimscrollright">
                        <div class="rpanel-title"> Service Panel <span><i class="ti-close right-side-toggle"></i></span> </div>
                        <div class="r-panel-body">
                            <ul id="themecolors" class="m-t-20">
                                <li><b>With Light sidebar</b></li>
                                <li><a href="javascript:void(0)" data-theme="default" class="default-theme">1</a></li>
                                <li><a href="javascript:void(0)" data-theme="green" class="green-theme">2</a></li>
                                <li><a href="javascript:void(0)" data-theme="red" class="red-theme">3</a></li>
                                <li><a href="javascript:void(0)" data-theme="blue" class="blue-theme working">4</a></li>
                                <li><a href="javascript:void(0)" data-theme="purple" class="purple-theme">5</a></li>
                                <li><a href="javascript:void(0)" data-theme="megna" class="megna-theme">6</a></li>
                                <li class="d-block m-t-30"><b>With Dark sidebar</b></li>
                                <li><a href="javascript:void(0)" data-theme="default-dark" class="default-dark-theme">7</a></li>
                                <li><a href="javascript:void(0)" data-theme="green-dark" class="green-dark-theme">8</a></li>
                                <li><a href="javascript:void(0)" data-theme="red-dark" class="red-dark-theme">9</a></li>
                                <li><a href="javascript:void(0)" data-theme="blue-dark" class="blue-dark-theme">10</a></li>
                                <li><a href="javascript:void(0)" data-theme="purple-dark" class="purple-dark-theme">11</a></li>
                                <li><a href="javascript:void(0)" data-theme="megna-dark" class="megna-dark-theme ">12</a></li>
                            </ul>
                            <ul class="m-t-20 chatonline">
                                <li><b>Chat option</b></li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/1.jpg" alt="user-img" class="img-circle"> <span>Varun Dhavan <small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/2.jpg" alt="user-img" class="img-circle"> <span>Genelia Deshmukh <small class="text-warning">Away</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/3.jpg" alt="user-img" class="img-circle"> <span>Ritesh Deshmukh <small class="text-danger">Busy</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/4.jpg" alt="user-img" class="img-circle"> <span>Arijit Sinh <small class="text-muted">Offline</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/5.jpg" alt="user-img" class="img-circle"> <span>Govinda Star <small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/6.jpg" alt="user-img" class="img-circle"> <span>John Abraham<small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/7.jpg" alt="user-img" class="img-circle"> <span>Hritik Roshan<small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="assets/images/users/8.jpg" alt="user-img" class="img-circle"> <span>Pwandeep rajan <small class="text-success">online</small></span></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->

        }


    </div>
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- footer -->
    <!-- ============================================================== -->
    <footer class="footer"> © 2017 Anikayaj software SolutionsPvt Ltd. </footer>
    <!-- ============================================================== -->
    <!-- End footer -->
    <!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Page wrapper  -->
<!-- ============================================================== -->








@*<script type="text/javascript">
    //$(document).ready(function () {
    $("#LeaveStartDate").datepicker({
        //   minDate: -1,
        //ChangeMonth: true,
        //ChangeYear: true
        dateFormat: 'yy-mm-dd'
    });
</script>*@

@*<script type="text/javascript">
    //$(document).ready(function () {
    $("#LeaveEndDate").datepicker({
        //   minDate: -1,
        //ChangeMonth: true,
        //ChangeYear: true
        dateFormat: 'yy-mm-dd'
    });
</script>*@

@*<script>
        function DateCheck() {
            var StartDate = document.getElementById('LeaveStartDate').value;
            var EndDate = document.getElementById('LeaveEndDate').value;
            var eDate = new Date(EndDate);
            var sDate = new Date(StartDate);
            if (StartDate != '' && StartDate != '' && sDate > eDate) {

                alert("Please ensure that the End Date is greater than or equal to the Start Date.");
                return false;
            }
        }
    </script>*@
<script>
function DateCheck()
{
    var StartDate = document.getElementById('LeaveStartDate').value;
    var EndDate = document.getElementById('LeaveEndDate').value;
  var eDate = new Date(EndDate);
  var sDate = new Date(StartDate);

  if(StartDate!= '' && EndDate!= '' && sDate> eDate)
  {

    alert("Please ensure that the End Date is greater than or equal to the Start Date.");
    document.getElementById('LeaveEndDate').value = '';//to make value to null
    return false;
  }
  else {

      var difference = eDate - sDate;
      var days = difference / (24 * 3600 * 1000);
      document.getElementById("totdays").value = days;//result is stored in totdays


  }
}</script>
