@model SMSnew.Models.Assignment
@{
    ViewBag.Title = "createassignment";
    Layout = "~/Views/Shared/_adminLayout.cshtml";
}

<h2>Create Assignment</h2>







<!-- Page wrapper  -->
<!-- ============================================================== -->
<div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <h3 class="text-themecolor">Dashboard</h3>
        </div>
        <div class="col-md-7 align-self-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                <li class="breadcrumb-item active">Dashboard</li>
            </ol>
        </div>
        <div>
            <button class="right-side-toggle waves-effect waves-light btn-inverse btn btn-circle btn-sm pull-right m-l-10"><i class="ti-settings text-white"></i></button>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <div>









        <body>
            @using (@Html.BeginForm("createassignment", "Assignment", FormMethod.Post, new { @id = "form1", @enctype = "multipart/form-data" }))
            {

 <!-- Container fluid  -->
        <!-- ============================================================== -->
                <div class="container-fluid">
                    <!-- ============================================================== -->
                    <!-- Start Page Content -->
                    <!-- ============================================================== -->
                    <!-- Row -->
                    <div class="row">

                    </div>
                    <!-- Row -->
                    <!-- Row -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card card-outline-info">
                                <div class="card-header">
                                    <h4 class="m-b-0 text-white">Assignment Details</h4>
                                </div>
                                <div class="card-body">
                                    <form action="#" class="form-horizontal">
                                        <div class="form-body">
                                            <h3 class="box-title">Profile Creation</h3>
                                            <hr class="m-t-0 m-b-40">


                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group row" style="margin-bottom:45px;">

                                                        <label class="control-label col-md-3"> Title</label>




                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control form-control-danger" placeholder="assignment title" name="AssignmentTitle" required>

                                                            @Html.ValidationMessageFor(model => model.AssignmentTitle)

                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/span-->
                                                <div class="col-md-6">
                                                    <div class="form-group row" style="margin-bottom:45px;">
                                                        <label class="control-label col-md-3">Class</label>
                                                        <div class="col-md-9">
                                                            @Html.DropDownListFor(model => model.AssignmentClass, ViewBag.classname as SelectList, "---Select Class---", new { @class = "form-control", @required = "required" })

                                                            @Html.ValidationMessageFor(model => model.AssignmentClass)
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>


                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group row" style="margin-bottom:45px;">
                                                        <label class="control-label col-md-3"> Division</label>
                                                        <div class="col-md-9">








                                                            @Html.DropDownListFor(model => model.AssignmentDivision, new SelectList(""), "-Select Div-", new { id = "Ddldivision", @class = "form-control", @required = "required" })

                                                            @Html.ValidationMessageFor(model => model.AssignmentDivision)





                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/span-->
                                                <div class="col-md-6">
                                                    <div class="form-group row" style="margin-bottom:45px;">

                                                        <label class="control-label col-md-3"> Subject</label>




                                                        <div class="col-md-9">

                                                            @Html.DropDownListFor(model => model.AssignmentSubject, new SelectList(""), "-Select sub-", new { id = "Ddlsub", @class = "form-control", @required = "required" })
                                                            @Html.ValidationMessageFor(model => model.AssignmentSubject)




                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/row-->














                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group row" style="margin-bottom:45px;">




                                                        <label class="control-label col-md-3"> Date</label>


                                                        <div class="col-md-9">
                                                            <input type="text" class="form-control " placeholder=" date of submit" id="min-date" name="AssignmentDateOfSubmit" required>
                                                        </div>

                                                    </div>
                                                </div>
                                                <!--/span-->
                                                <div class="col-md-6">
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3"> Attachment</label>




                                                        <div class="col-md-9">








                                                            @Html.TextBox("file", "", new { id = "AssignmentAttachment", type = "file",@required="required"})
                                                            <span style="color:red"> @Html.ValidationMessageFor(m => m.AssignmentAttachment, string.Empty, new { id = "validationTxt" })</span>




                                                            @*(only  ".docx", ".xlsx", ".txt",".pdf",".docm",".xlsm" files are permitted)*@
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>




                                            <div class="row">


                                                <div class="col-md-6">
                                                    <div class="form-group row" style="margin-bottom:45px;">
                                                        <label class="control-label col-md-3">Description</label>
                                                        <div class="col-md-9">
                                                            <textarea id="ExamDescription" rows="4" class="form-control " placeholder="Description" name="AssignmentDescription" required></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <p>
                                                @Html.ActionLink("Go to list", "listassignment")
                                            </p>






                                        </div>
                                        <hr>
                                        <div class="form-actions">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="row">
                                                        <div class="col-md-offset-3 col-md-9">

                                                            <button type="submit" class="btn btn-success" value="save" name="Save" onclick="SelectedIndexChanged()">Submit</button>
                                                            <button type="submit" class="btn btn-inverse" value="cancel" name="Cancel">Cancel</button>





                                                        </div>



                                                    </div>
                                                </div>
                                                <div class="col-md-6"> </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Row -->
                    <!-- Row -->
                    <!-- Row -->
                    <!-- Row -->
                    <!-- Row -->
                    <!-- Row -->
                    <!-- Row -->
                    <!-- ============================================================== -->
                    <!-- End PAge Content -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Right sidebar -->
                    <!-- ============================================================== -->
                    <!-- .right-sidebar -->
                    <!-- ============================================================== -->
                    <!-- End Right sidebar -->
                    <!-- ============================================================== -->


                </div>


            }
        </body>






        @*}*@



    </div>


    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- footer -->
    <!-- ============================================================== -->
    <footer class="footer"> © 2017 Anikayaj software SolutionsPvt Ltd. </footer>
    <!-- ============================================================== -->
    <!-- End footer -->
    <!-- ============================================================== -->
</div>

<!-- ============================================================== -->
<!-- End Page wrapper  -->
<!-- ============================================================== -->
@*script for second dropdown.................*@
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
@*<script>
    $(document).ready(function () {
        $("#AssignmentClass").change(function () {
            $("#AssignmentDivision").empty();
            $.get("/Assignmentnew/GetDivisionList", { AssignmentClass: $("#AssignmentClass").val() }, function (data) {

                $("#div").empty();
                $.each(data, function (index, row) {
                    $("#div").append("<option Text ='" + row.StudDivision + "'>" + row.StudDivision + "</option>")
                });
            });
        })
    });
    </script>*@
<script>
    $(document).ready(function () {
        $("#AssignmentClass").change(function () {
            $("#AssignmentDivision").empty();
            $.get("/Assignment/GetDivisionList1", { Class1: $("#AssignmentClass").val() }, function (data) {
                // $("#SubjectClass").empty();
                $("#Ddldivision").empty();
                $("#Ddldivision").append("<option value ='" + "please select" + "'>" + "please select" + "</option>")
                $.each(data, function (index, row) {
                    $("#Ddldivision").append("<option Text ='" + row.StudDivision + "'>" + row.StudDivision + "</option>")

                    // $("#Ddldivision").append("<option value ='" + "please select" + "'>" + "please select" + "</option>")
                });
            });
        })
    });
</script>

<script>
    $(document).ready(function () {
        $("#AssignmentClass").change(function () {
            $("#AssignmentSubject").empty();

            $.get("/Assignment/GetSubjectList1", { Class1: $("#AssignmentClass").val() }, function (data) {
                // $("#SubjectClass").empty();
                $("#Ddlsub").empty();
                $("#Ddlsub").append("<option value ='" + "please select" + "'>" + "please select" + "</option>")
                $.each(data, function (index, row) {
                    $("#Ddlsub").append("<option Text ='" + row.SubjectName + "'>" + row.SubjectName + "</option>")
                });
            });
        })
    });
</script>







<script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>

<script type="text/jscript">


    function getNameFromPath(strFilepath) {

        var objRE = new RegExp(/([^\/\\]+)$/);

        var strName = objRE.exec(strFilepath);



        if (strName == null) {

            return null;

        }

        else {

            return strName[0];

        }

    }



    $(function () {

        $("#AssignmentAttachment").change(function () {

            var file = getNameFromPath($(this).val());

            if (file != null) {

                var extension = file.substr((file.lastIndexOf('.') + 1));

                switch (extension) {

                    case 'docx':

                    case 'docm':

                    case 'xlsx':
                    case 'xlsm':

                    case 'txt':

                    case 'pdf':
                        flag = true;

                        break;

                    default:

                        flag = false;

                }

            }

            if (flag == false) {

                $("#validationTxt").text("only . docx,.xlsx,.txt,.pdf,.docm,.xlsm files are permitted");
                document.getElementById("AssignmentAttachment").value = "";
                return false;

            }

            //else {

            //    var size = GetFileSize('file');

            //    if (size > 3) {

            //        $("#validationTxt").text("You can upload file up to 1 MB");

            //    }

            //    else {

            //        $("#validationTxt").text("");

            //    }

            //  }

        });

    });

</script>

